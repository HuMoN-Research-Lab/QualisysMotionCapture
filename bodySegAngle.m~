function [thetaLeft21,thetaRight21,thetaLeft43,thetaRight43,thetaLeftKnee,thetaRightKnee]...
    = bodySegAngle(leftThighMean,rightThighMean,leftLegMean,rightLegMean)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Function calculates theta lower extremities based on segment position(deg)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%Theta equations
%thetaij = atan((yj-yi)/(xj-xi));
%theta21 = atan((y1-y2)/(x1-x2));
%% Thigh angle calculations
%Thigh angle (theta21)

%leftThigh angle calculation
thetaLeftThigh = atand((leftThighMean(:,2) - leftLegMean(:,2))...
   ./(leftThighMean(:,1)-leftLegMean(:,1)));
thetaLeft21 = thetaLeftThigh;

%Start of bodySegAngleTotal
%rightThigh angle calculation
thetaRightThigh = atand((rightThighMean(:,2) - rightLegMean(:,2))...
   ./(rightThighMean(:,1)-rightLegMean(:,1)));
thetaRight21 = thetaRightThigh;

%% Shank angle calculations
%Shank angle (theta43)

%leftShank angle calculation
thetaLeftShank = atand((leftLegMean(:,2) - leftFootMean(:,2))...
   ./(leftLegMean(:,1)-leftFootMean(:,1)));

thetaLeftShank = thetaLeft43;

%rightShank angle calculation
thetaRightShank = atand((rightLegMean(:,2) - rightFootMean(:,2))...
   ./(rightLegMean(:,1)-rightFootMean(:,1)));

thetaRightShank = thetaRight43;

%% Knee angle calculations
%Knee Angle (thetaKnee)
thetaLeftKnee = thetaLeft21 - thetaLeft43;

thetaRightKnee = thetaRight21 - thetaRight43;

%leftThigh angle calculation
%thetaLeftKnee = theta21 - theta43;





end

